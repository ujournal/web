---
title: Пост
---

<article
    x-data="post(null, false)"
    x-bind:class="{
        'post': true,
        'post-short': short,
        'post-placeholder': busy
    }"
>
    <div class="post-header">
        <div x-bind:class="{'userinfo': true, 'userinfo-placeholder': busy}">
            <a x-bind:href="feedUrl" class="userinfo-image">
                <img alt=" " x-bind:src="data?.feed.image" />
            </a>
            <div class="userinfo-name">
                <a x-bind:href="feedUrl" x-text="data?.feed.name"></a>
                <template x-if="!data?.feed.is_user_feed">
                    <a
                        class="userinfo-status"
                        x-bind:href="userUrl"
                        x-text="data?.user.name ? `автор ${data?.user.name}` : ''"
                    ></a>
                </template>
            </div>
            <div
                class="userinfo-caption"
                x-text="dateFormat === 'short' ? dateShort() : dateLong()"
                x-on:click="toggleDate"
            ></div>
        </div>
        <button
            class="button"
            popovertarget="post-popover"
            x-on:click="handlePopoverOpen"
        >
            Підписатися
        </button>
        <button
            class="button"
            popovertarget="post-popover"
            x-on:click="handlePopoverOpen"
        >
            {% svg icons/dots.svg %}
        </button>
    </div>
    <div class="post-main">
        <h2 class="post-title" x-text="data?.title"></h2>

        <template x-if="shouldShowExternal">
            <div x-data="external(data?.external)" x-html="template"></div>
        </template>

        <template x-if="shouldShowGallery">
            <div x-data="gallery(data?.gallery)" x-html="template"></div>
        </template>

        <template x-if="short">
            <p class="post-description" x-show="shouldShowDescription">
                <span x-html="data?.description"></span>
                <button x-on:click="toggleShort">Розгорнути</button>
            </p>
        </template>

        <template x-if="!short">
            <div
                class="post-body"
                x-html="data?.html"
                x-show="shouldShowBody"
            ></div>
        </template>

        <template x-if="shouldShowAuthor">
            <div class="post-author">
                <div class="userinfo">
                    <a x-bind:href="userUrl" class="userinfo-image">
                        <img alt=" " x-bind:src="data?.user.feed.image" />
                    </a>
                    <div class="userinfo-name">
                        <a x-bind:href="userUrl" x-text="data?.user.name"></a>
                    </div>
                    <div class="userinfo-caption">Автор</div>
                </div>
                <button type="button" class="button">
                    {% svg icons/circle-check.svg %}
                    <span class="button-label">В підписках</span>
                </button>
            </div>
        </template>
    </div>
    <div class="post-footer">
        <!--prettier-ignore-->
        {% include reactions.html
            placeholder=include.placeholder
            id=include.id
        %}
    </div>
</article>

<!--prettier-ignore-->
{% include popovers/post_popover.html %}
{% include popovers/reactions_popover.html %}
{% include popovers/counts_popover.html %}
